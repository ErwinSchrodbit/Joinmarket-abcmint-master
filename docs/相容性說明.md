# 相容性說明（ABCMint ↔ JoinMarket）

## RPC 能力對應
- 已支援：`getblockcount`、`getblockhash`、`getblock`、`gettxout`、`listunspent`、`listtransactions`、`gettransaction`、`sendrawtransaction`、`validateaddress`、`getrawmempool`
- 不支援（降級/停用）：`estimatesmartfee`、`getmempoolinfo`、`testmempoolaccept`、`gettxoutproof`、`verifytxoutproof`

## 回傳結構對齊
- `listunspent`/`gettxout`：回傳值結構依 JoinMarket 預期重新打包，包含 `value`、`script`、`confirmations` 等欄位。
- 其他介面：於 `src/jmclient/abcmint_interface.py` 依呼叫方預期統一欄位命名與型別。

## 費用與策略
- 費用隨機化：保留 JoinMarket 的隨機化策略，以避免可識別的費用模式。
- 基線費用：在缺少 `estimatesmartfee/getmempoolinfo` 的情境下，使用 `paytxfee` 作為基線；必要時回退到策略預設值。

## RBF 與替代機制
- RBF 狀態固定為 `False`；相關邏輯於交易建立時視為不可替代。

## 其他差異
- 證明相關：`gettxoutproof/verifytxoutproof` 不可用，倚賴此類證明的功能採降級或停用。
- 錢包互動：不使用 Core 的 watch‑only 匯入；改以地址過濾與 UTXO 查詢實作錢包視圖。

## 注意
- 上述對應與策略以目前原始碼實作為準，細節可參考 `joinmarket_abcmint/src/jmclient/abcmint_interface.py` 以及相關服務層實作。
